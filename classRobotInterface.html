<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>AUV-Coop-Assembly: RobotInterface Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">AUV-Coop-Assembly
   </div>
   <div id="projectbrief">Master Thesis for Robotics Engineering. Cooperative peg-in-hole assembly with two underwater vehicles guided by vision</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classRobotInterface-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">RobotInterface Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>robotInterface: a ros node responsible of taken info from simulator and robot sensors, and of given commands back. It is the intermiate layer between actual robot and mission manager ("main")  
 <a href="classRobotInterface.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="robotInterface_8h_source.html">robotInterface.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aec064e88502cf5938fbe0a5337f91c76"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRobotInterface.html#aec064e88502cf5938fbe0a5337f91c76">RobotInterface</a> (ros::NodeHandle nh, std::string robotName)</td></tr>
<tr class="memdesc:aec064e88502cf5938fbe0a5337f91c76"><td class="mdescLeft">&#160;</td><td class="mdescRight">robotInterface::robotInterface Constructor  <a href="#aec064e88502cf5938fbe0a5337f91c76">More...</a><br /></td></tr>
<tr class="separator:aec064e88502cf5938fbe0a5337f91c76"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a748f8245a1cc44d4ab0c77fdb326bdb2"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a748f8245a1cc44d4ab0c77fdb326bdb2"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>init</b> ()</td></tr>
<tr class="separator:a748f8245a1cc44d4ab0c77fdb326bdb2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e96d71b9a0295ee3c1597b449be897f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1e96d71b9a0295ee3c1597b449be897f"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>getwTv</b> (Eigen::Matrix4d *wTv_eigen)</td></tr>
<tr class="separator:a1e96d71b9a0295ee3c1597b449be897f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab2f157a5836c5bfb0736263a61edad0d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRobotInterface.html#ab2f157a5836c5bfb0736263a61edad0d">getJointState</a> (std::vector&lt; double &gt; *jState)</td></tr>
<tr class="memdesc:ab2f157a5836c5bfb0736263a61edad0d"><td class="mdescLeft">&#160;</td><td class="mdescRight">robotInterface::getJointState  <a href="#ab2f157a5836c5bfb0736263a61edad0d">More...</a><br /></td></tr>
<tr class="separator:ab2f157a5836c5bfb0736263a61edad0d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae4a62ab80bda1856697ae7ca8bdde9fe"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae4a62ab80bda1856697ae7ca8bdde9fe"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>sendyDot</b> (std::vector&lt; double &gt; yDot)</td></tr>
<tr class="separator:ae4a62ab80bda1856697ae7ca8bdde9fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3cbd2656e38c3d4e0a6635ba5ae804d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad3cbd2656e38c3d4e0a6635ba5ae804d"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>getForceTorque</b> (Eigen::Vector3d *force, Eigen::Vector3d *torque)</td></tr>
<tr class="separator:ad3cbd2656e38c3d4e0a6635ba5ae804d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>robotInterface: a ros node responsible of taken info from simulator and robot sensors, and of given commands back. It is the intermiate layer between actual robot and mission manager ("main") </p>
<dl class="section note"><dt>Note</dt><dd>about the force/torque sensor: NOT VALID ANYMORE WITH RESOLVED LAG ISSUE WITH SIMULATION? BUT MAYBE USEFUL TO HAVE A SMOOTH BEHAVIOUR ********************************************** we have to make a mean: the sensor on uwsim give values but often they are intervalled with values = 0. this cause chattering and the robot dont move at all because 0-x velocity are intermittely given. So idea is use a queue and make a mean of the last 10 15 20 values of the sensor, and give the mean when caller calls getForceTorque. This problem can be given by simulator, by the sensor, or even by the physics engine which has difficulty in calculating collision between cilinder and inner hole. This is done with two vectors (one for force, one for torque) of circular buffers. Each vector contain 3 fixed size circular buffer of double, one for each direction (x y z) in this way we can use std::accumulate to sum all element of each buffer to the divided and make the mean NOT VALID ANYMORE WITH RESOLVED LAG ISSUE WITH SIMULATION? ************************************************* </dd></dl>

<p>Definition at line <a class="el" href="robotInterface_8h_source.html#l00038">38</a> of file <a class="el" href="robotInterface_8h_source.html">robotInterface.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="aec064e88502cf5938fbe0a5337f91c76"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">RobotInterface::RobotInterface </td>
          <td>(</td>
          <td class="paramtype">ros::NodeHandle&#160;</td>
          <td class="paramname"><em>nh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>robotName</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>robotInterface::robotInterface Constructor </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">nh</td><td>the nodehandle to deal with ros sub and pub </td></tr>
    <tr><td class="paramname">name</td><td>of the robot itself (for sub to topics and print purposes) </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="robotInterface_8cpp_source.html#l00009">9</a> of file <a class="el" href="robotInterface_8cpp_source.html">robotInterface.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="ab2f157a5836c5bfb0736263a61edad0d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int RobotInterface::getJointState </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; double &gt; *&#160;</td>
          <td class="paramname"><em>jState</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>robotInterface::getJointState </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">jState</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>
<dl class="section note"><dt>Note</dt><dd>Doing so, only when main call this function it gets the joint state position </dd></dl>

<p>Definition at line <a class="el" href="robotInterface_8cpp_source.html#l00105">105</a> of file <a class="el" href="robotInterface_8cpp_source.html">robotInterface.cpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/peg/src/rosInterfaces/header/<a class="el" href="robotInterface_8h_source.html">robotInterface.h</a></li>
<li>src/peg/src/rosInterfaces/<a class="el" href="robotInterface_8cpp_source.html">robotInterface.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
