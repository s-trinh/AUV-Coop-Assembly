<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>AUV-Coop-Assembly: Controller Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">AUV-Coop-Assembly
   </div>
   <div id="projectbrief">Master Thesis for Robotics Engineering. Cooperative peg-in-hole assembly with two underwater vehicles guided by vision</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classController-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Controller Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>The <a class="el" href="classController.html" title="The Controller class is responsabile of 1) taking matrices and giving them to Tasks classes...">Controller</a> class is responsabile of 1) taking matrices and giving them to Tasks classes, so they can compute their activations, references, jacobians, etc matrices 2) After all tasks have setted matrices, it executes the icat algorithm and return the yDot to the caller.  
 <a href="classController.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="controller_8h_source.html">controller.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ad742f66b5a47e39e319e744515e144c4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classController.html#ad742f66b5a47e39e319e744515e144c4">Controller</a> (std::string robotName)</td></tr>
<tr class="memdesc:ad742f66b5a47e39e319e744515e144c4"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classController.html#ad742f66b5a47e39e319e744515e144c4" title="Controller::Controller constructor. ">Controller::Controller</a> constructor.  <a href="#ad742f66b5a47e39e319e744515e144c4">More...</a><br /></td></tr>
<tr class="separator:ad742f66b5a47e39e319e744515e144c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6999fc4ffa3e951e32cc2aacb5cbaa00"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classController.html#a6999fc4ffa3e951e32cc2aacb5cbaa00">updateMultipleTasksMatrices</a> (std::vector&lt; <a class="el" href="classTask.html">Task</a> * &gt; tasks, struct <a class="el" href="structInfos.html">Infos</a> *const robInfo)</td></tr>
<tr class="memdesc:a6999fc4ffa3e951e32cc2aacb5cbaa00"><td class="mdescLeft">&#160;</td><td class="mdescRight">Controller::updateAllTaskMatrices This function calls all the updateMatrices of each task.  <a href="#a6999fc4ffa3e951e32cc2aacb5cbaa00">More...</a><br /></td></tr>
<tr class="separator:a6999fc4ffa3e951e32cc2aacb5cbaa00"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a746bc2d8c672ce9643a0d6c9ec79d151"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classController.html#a746bc2d8c672ce9643a0d6c9ec79d151">updateSingleTaskMatrices</a> (<a class="el" href="classTask.html">Task</a> *task, struct <a class="el" href="structInfos.html">Infos</a> *const robInfo)</td></tr>
<tr class="memdesc:a746bc2d8c672ce9643a0d6c9ec79d151"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classController.html#a746bc2d8c672ce9643a0d6c9ec79d151" title="Controller::updateSingleTaskMatrices This function calls the updateMatrices for a single task...">Controller::updateSingleTaskMatrices</a> This function calls the updateMatrices for a single task.  <a href="#a746bc2d8c672ce9643a0d6c9ec79d151">More...</a><br /></td></tr>
<tr class="separator:a746bc2d8c672ce9643a0d6c9ec79d151"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88daca639458a94fcbee5dcfae679f1e"><td class="memItemLeft" align="right" valign="top">std::vector&lt; double &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classController.html#a88daca639458a94fcbee5dcfae679f1e">execAlgorithm</a> (std::vector&lt; <a class="el" href="classTask.html">Task</a> * &gt; tasks)</td></tr>
<tr class="memdesc:a88daca639458a94fcbee5dcfae679f1e"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classController.html#a88daca639458a94fcbee5dcfae679f1e" title="Controller::execAlgorithm this function calls the step of the algorithm modifying (in the for) each t...">Controller::execAlgorithm</a> this function calls the step of the algorithm modifying (in the for) each time the projection matrix Q and command vector yDot. The function call equalityIcat or inequalityIcat according to the type of task.  <a href="#a88daca639458a94fcbee5dcfae679f1e">More...</a><br /></td></tr>
<tr class="separator:a88daca639458a94fcbee5dcfae679f1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8f0bf3217ded2e4e0692deccadbaa17"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classController.html#af8f0bf3217ded2e4e0692deccadbaa17">resetAllAlgosFlag</a> (std::vector&lt; <a class="el" href="classTask.html">Task</a> * &gt; tasks)</td></tr>
<tr class="memdesc:af8f0bf3217ded2e4e0692deccadbaa17"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classController.html#af8f0bf3217ded2e4e0692deccadbaa17" title="Controller::resetAllAlgosFlag Flag_W Mu_W Flag_G Mu_G must be resetted before each TPIK...">Controller::resetAllAlgosFlag</a> Flag_W Mu_W Flag_G Mu_G must be resetted before each TPIK.  <a href="#af8f0bf3217ded2e4e0692deccadbaa17">More...</a><br /></td></tr>
<tr class="separator:af8f0bf3217ded2e4e0692deccadbaa17"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42c27cfb9b1c20113b37c514d8464e9a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classController.html#a42c27cfb9b1c20113b37c514d8464e9a">resetAllUpdatedFlags</a> (std::vector&lt; <a class="el" href="classTask.html">Task</a> * &gt; tasks)</td></tr>
<tr class="memdesc:a42c27cfb9b1c20113b37c514d8464e9a"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classController.html#a42c27cfb9b1c20113b37c514d8464e9a" title="Controller::resetAllUpdatedFlags to be called at the end of the control loop, so next loop all matric...">Controller::resetAllUpdatedFlags</a> to be called at the end of the control loop, so next loop all matrices are updated (because robot moved)  <a href="#a42c27cfb9b1c20113b37c514d8464e9a">More...</a><br /></td></tr>
<tr class="separator:a42c27cfb9b1c20113b37c514d8464e9a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The <a class="el" href="classController.html" title="The Controller class is responsabile of 1) taking matrices and giving them to Tasks classes...">Controller</a> class is responsabile of 1) taking matrices and giving them to Tasks classes, so they can compute their activations, references, jacobians, etc matrices 2) After all tasks have setted matrices, it executes the icat algorithm and return the yDot to the caller. </p>

<p>Definition at line <a class="el" href="controller_8h_source.html#l00020">20</a> of file <a class="el" href="controller_8h_source.html">controller.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="ad742f66b5a47e39e319e744515e144c4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Controller::Controller </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>robotName</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><a class="el" href="classController.html#ad742f66b5a47e39e319e744515e144c4" title="Controller::Controller constructor. ">Controller::Controller</a> constructor. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>of the robot (for printing things) </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="controller_8cpp_source.html#l00007">7</a> of file <a class="el" href="controller_8cpp_source.html">controller.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a88daca639458a94fcbee5dcfae679f1e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; double &gt; Controller::execAlgorithm </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; <a class="el" href="classTask.html">Task</a> * &gt;&#160;</td>
          <td class="paramname"><em>tasks</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><a class="el" href="classController.html#a88daca639458a94fcbee5dcfae679f1e" title="Controller::execAlgorithm this function calls the step of the algorithm modifying (in the for) each t...">Controller::execAlgorithm</a> this function calls the step of the algorithm modifying (in the for) each time the projection matrix Q and command vector yDot. The function call equalityIcat or inequalityIcat according to the type of task. </p>
<dl class="section return"><dt>Returns</dt><dd>the yDot command to be send to the robot at each loop </dd></dl>

<p>Definition at line <a class="el" href="controller_8cpp_source.html#l00101">101</a> of file <a class="el" href="controller_8cpp_source.html">controller.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="af8f0bf3217ded2e4e0692deccadbaa17"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int Controller::resetAllAlgosFlag </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; <a class="el" href="classTask.html">Task</a> * &gt;&#160;</td>
          <td class="paramname"><em>tasks</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><a class="el" href="classController.html#af8f0bf3217ded2e4e0692deccadbaa17" title="Controller::resetAllAlgosFlag Flag_W Mu_W Flag_G Mu_G must be resetted before each TPIK...">Controller::resetAllAlgosFlag</a> Flag_W Mu_W Flag_G Mu_G must be resetted before each TPIK. </p>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>Definition at line <a class="el" href="controller_8cpp_source.html#l00079">79</a> of file <a class="el" href="controller_8cpp_source.html">controller.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a42c27cfb9b1c20113b37c514d8464e9a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int Controller::resetAllUpdatedFlags </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; <a class="el" href="classTask.html">Task</a> * &gt;&#160;</td>
          <td class="paramname"><em>tasks</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><a class="el" href="classController.html#a42c27cfb9b1c20113b37c514d8464e9a" title="Controller::resetAllUpdatedFlags to be called at the end of the control loop, so next loop all matric...">Controller::resetAllUpdatedFlags</a> to be called at the end of the control loop, so next loop all matrices are updated (because robot moved) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tasks</td><td>list of task to reset </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 correct exec </dd></dl>

<p>Definition at line <a class="el" href="controller_8cpp_source.html#l00063">63</a> of file <a class="el" href="controller_8cpp_source.html">controller.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a6999fc4ffa3e951e32cc2aacb5cbaa00"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int Controller::updateMultipleTasksMatrices </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; <a class="el" href="classTask.html">Task</a> * &gt;&#160;</td>
          <td class="paramname"><em>tasks</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structInfos.html">Infos</a> *const&#160;</td>
          <td class="paramname"><em>robInfo</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Controller::updateAllTaskMatrices This function calls all the updateMatrices of each task. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tasks</td><td>the vector of tasks pointer </td></tr>
    <tr><td class="paramname">robInfo</td><td>the struct where all infos needed by all the tasks are </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 to correct execution </dd></dl>
<dl class="section note"><dt>Note</dt><dd>usage of overridden pure virtual method tasks[i]-&gt;updateMatrices() </dd></dl>

<p>Definition at line <a class="el" href="controller_8cpp_source.html#l00020">20</a> of file <a class="el" href="controller_8cpp_source.html">controller.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a746bc2d8c672ce9643a0d6c9ec79d151"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int Controller::updateSingleTaskMatrices </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classTask.html">Task</a> *&#160;</td>
          <td class="paramname"><em>task</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structInfos.html">Infos</a> *const&#160;</td>
          <td class="paramname"><em>robInfo</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><a class="el" href="classController.html#a746bc2d8c672ce9643a0d6c9ec79d151" title="Controller::updateSingleTaskMatrices This function calls the updateMatrices for a single task...">Controller::updateSingleTaskMatrices</a> This function calls the updateMatrices for a single task. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">*task</td><td>pointer to the task that must be updated </td></tr>
    <tr><td class="paramname">robInfo</td><td>the struct where all infos needed by all the tasks are </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 to correct execution </dd></dl>
<dl class="section note"><dt>Note</dt><dd>usage of overridden pure virtual method task-&gt;updateMatrices() </dd></dl>

<p>Definition at line <a class="el" href="controller_8cpp_source.html#l00043">43</a> of file <a class="el" href="controller_8cpp_source.html">controller.cpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/peg/src/controller/header/<a class="el" href="controller_8h_source.html">controller.h</a></li>
<li>src/peg/src/controller/<a class="el" href="controller_8cpp_source.html">controller.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
