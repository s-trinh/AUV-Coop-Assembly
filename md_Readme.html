<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>AUV-Coop-Assembly: AUV-Coop-assembly</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">AUV-Coop-Assembly
   </div>
   <div id="projectbrief">Master Thesis for Robotics Engineering. Cooperative peg-in-hole assembly with two underwater vehicles guided by vision</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">AUV-Coop-assembly </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h3>MASTER THESIS Robotics Engineering 30-08-2019</h3>
<p><a href="https://torydebra.github.io/AUV-Coop-Assembly/">Code Documentation</a> <a href="https://github.com/torydebra/Master_Thesis_Robotic/blob/master/thesis.pdf">Thesis</a></p>
<h3>Screenshots</h3>
<div class="image">
<img src="images/1new.png"  width="300" height="210"/>
</div>
 <div class="image">
<img src="images/3.png"  width="300" height="210"/>
</div>
 <div class="image">
<img src="images/7.png"  width="300" height="210"/>
</div>
 <div class="image">
<img src="images/8.png"  width="300" height="210"/>
</div>
 <h3>Video of the final experiment</h3>
<p><a href="https://github.com/torydebra/AUV-Coop-Assembly/raw/master/Video/FinalExp.mp4">GitHub link video</a> <a href="https://streamable.com/kvoxq">Streamable link video</a> Same video uploaded twice if one does not work.</p>
<h2>Workspace folders</h2>
<h4>src/peg (catkin package)</h4>
<p>The "only kinematic" package, simulated with UWsim. Folder "toBeAdded_uwsim":</p><ul>
<li>model &amp; scenes subfolders in uwsim/data/scenes (along with default scenes and models)</li>
<li>terrain &amp; objects in ~/.uwsim/data <h4>src/peg_dynamics (catkin package) NOTE: not anymore in master. Maybe useful for future works?</h4>
</li>
</ul>
<p>Package with dynamics of vehicle and arm. The dynamics is provided by FreeFloatingGazebo, a plugin which use Gazebo and UWSim functionalities. Folder "tobeAdded_freeFloatDemo":</p><ul>
<li>objects, terrain, scenes, urdf in src folder of freeFloatingGazebo_demo (Maybe also in .uwsim/data?)</li>
<li>lauch folder also in src folder of freeFloatingGazebo_demo, but maybe other launches can be written accordingly to peg_dynamics package.</li>
</ul>
<h4>matlab folder</h4>
<p>matlab code for plotting test</p>
<h4>model folder</h4>
<p>folder needed by kdlHelper (inside the packages) to parse the robot model and build the jacobian (the <a class="el" href="classKDLHelper.html">KDLHelper</a>).</p>
<h4>Others?</h4>
<p>TODO: better put as separate package various support/helper classes that have no differences for kineatic and dynamic version.</p>
<h2>Code Schemes</h2>
<div class="image">
<img src="images/CodeScheme_single.png"  alt="Code Scheme" title="Code Scheme"/>
</div>
 <div class="image">
<img src="images/CodeScheme.png"  alt="Code Scheme" title="Code Scheme"/>
</div>
 <h2>Control Flow Scheme</h2>
<div class="image">
<img src="images/flowScheme.png"  alt="Control Flow Scheme" title="Control Flow Scheme"/>
</div>
<h2>Dependencies</h2>
<h4>Simulators</h4>
<ul>
<li><a href="http://www.irs.uji.es/uwsim/"><b>UWSim</b></a> Undewater Simulator. the last version is the kinetic one (even if tutorial stop at the groovy version, it is only needed to follow it substituting <code>groovy</code> with <code>kinetic</code>).</li>
<li><a href="https://github.com/freefloating-gazebo"><b>FreeFloating Gazebo</b></a> Plugin for gazebo and UWSim to introduce dynamics. It also contatin a dynamic controller (which I use) which can be use to "transform" position, velocity or force (it can be choosen the modality) to thruster and joints. Both the source (freefloating_gazebo) and the demo (freefloating_gazebo) are needed. <b>NOTE</b> not used anymore, maybe useful for future works? <h4>Code</h4>
</li>
</ul>
<ul>
<li><b>ROS kinetic</b>, obviously. It is used not only to communicate with simulator, so also if other simulator is used (no UWSim or Gazebo), it is needed.</li>
<li><b>boost</b> (already installed with ROS ??) the famous c++ library</li>
<li><a href="http://eigen.tuxfamily.org/index.php?title=Main_Page"><b>eigen 3</b></a> c++ library to deal with matrices in a sort of matlab style. It contains also a geometry part (Transformation/Rotation matrix and so on) but I don't use it because of "geometrical" computations are done with CMAT.</li>
<li><b>CMAT</b> (private? library of University of Genova) Needed for core of TPIK (regularized pseudoinversions)</li>
<li><b>kdl</b> (should be already installed with ROS) parse urdf model of robots to get Manipulator Jacobian and position of end effector from the state (ie, angles) of joints</li>
<li><b>tf</b> (already installed with default ros?) ros package to deal with transformations provided by the simulator (eg position of the vehicle respect world)</li>
<li><b>parse_urdf</b> (already installed ros) to parse the urdf model (see kdl)</li>
</ul>
<h4>Vision part</h4>
<ul>
<li><b>opencv 3.4</b> (<code>sudo apt install ros-kinetic-opencv</code>, AND/OR normal installation following website) The core for all vision things</li>
<li><b>cv_bridge</b> ros package to convert openCV images into ros message images and viceversa</li>
<li><b>image_transport</b> (already included with default ros installation?) to deal with ros topics which share images</li>
<li><a href="https://visp.inria.fr/"><b>VISP 3.2</b></a> Visual Servoing Platform It is nicer to use than opencv when dealing with more robotic vision things like <em>model based stereo tracking of an object</em></li>
<li><a href="http://www.pointclouds.org/"><b>PCL</b></a></li>
</ul>
<h2>Solutions for some possible compiling issue:</h2>
<h4>eigen library not found</h4>
<p>It may be cause by the fact that eigen is installed in a folder named eigen3 (and not eigen). Solution: </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;cd /usr/include     #the folder where is eigen3   </div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;sudo ln -s /usr/include/eigen3/Eigen Eigen    #create symbolic link</div></div><!-- fragment --> <h4>cmat_defines.h problem</h4>
<p>in cmat there is a defined constant <code>#define PI 3.14xxxx</code> this is a problem because kdl library has a const int called PI. Solution is to change (in cmat_defines.h) : <code>#define PI 3.14xxxxx</code> in <code>const int PI 3.14xxxxx</code></p>
<h4>VISP_HAVE_PCL not setted</h4>
<p>there is a function .track() in the <a class="el" href="tracker_8cpp_source.html">tracker.cpp</a>. This function is declared in a .h which has VISP_HAVE_PCL flag before. Even with pcl-ros installed, this flag can be unsetted. Solution? Not sure if I have broken all (at the moment is works, but be sure pcl is installed (ros-pcl is ok)), but I simply added </p><div class="fragment"><div class="line"><span class="preprocessor">#define VISP_HAVE_PCL</span></div></div><!-- fragment --><p> in /opt/ros/kinetic/include/visp3/visp_modules.h </p><hr/>
 <h2>MISC</h2>
<p>to add a task: CMAKE: add_library add target_link_libraries sia per task cpp sia metti sto task cpp come link al main</p>
<h4>Libraries:</h4>
<p><b>tf</b> (to get transformation from ros) usata solo dal (rosInterface) che gestisce le cose ros.</p>
<p><b>cmat</b> solo per computazioni pseudoinverse in icat eq e ican ineq, so nota solo alla classe controller che effettivamente fa ste operazioni. Indipendente da ros</p>
<p><b>eigen</b> matrice di "passaggio" tra le due sopra. Usata anche per riempire le jacobiane nelle classi task (più comoda di cmat). Nota a TASKS e (main) ma non è un problema perchè è indipendente da ros, (installabile anche senza ros) controllore non la usa perchè usa solo cmat</p>
<p><b>kdl</b> get jacobians from urdf models</p>
<h3>the workspace chaining thing</h3>
<p><a href="https://answers.ros.org/question/205976/sourcing-from-multiple-workspaces/">https://answers.ros.org/question/205976/sourcing-from-multiple-workspaces/</a> </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
