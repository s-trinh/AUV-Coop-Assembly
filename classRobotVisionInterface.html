<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>AUV-Coop-Assembly: RobotVisionInterface Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">AUV-Coop-Assembly
   </div>
   <div id="projectbrief">Master Thesis for Robotics Engineering. Cooperative peg-in-hole assembly with two underwater vehicles guided by vision</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classRobotVisionInterface-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">RobotVisionInterface Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>robotInterface: a ros node responsible of taken info from simulator and robot sensors, and of given commands back. It is the intermiate layer between robot and mission manager ("main") This "Vision" Version is specialized for a robot with no arm and horizontal cameras used to detect hole and help the insertion phase.  
 <a href="classRobotVisionInterface.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="robotVisionInterface_8h_source.html">robotVisionInterface.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aff732683bdc113d95c46038e00d9c0f2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRobotVisionInterface.html#aff732683bdc113d95c46038e00d9c0f2">RobotVisionInterface</a> (ros::NodeHandle nh, std::string robotName)</td></tr>
<tr class="memdesc:aff732683bdc113d95c46038e00d9c0f2"><td class="mdescLeft">&#160;</td><td class="mdescRight">RobotVisionInterface::RobotInterfaceVision Constructor.  <a href="#aff732683bdc113d95c46038e00d9c0f2">More...</a><br /></td></tr>
<tr class="separator:aff732683bdc113d95c46038e00d9c0f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af67928fd98616e8f0f243ac2a7bbc845"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af67928fd98616e8f0f243ac2a7bbc845"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>init</b> ()</td></tr>
<tr class="separator:af67928fd98616e8f0f243ac2a7bbc845"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72012bdb5d3978d9259029f2c07aa53c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a72012bdb5d3978d9259029f2c07aa53c"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>getwTv</b> (Eigen::Matrix4d *wTv_eigen)</td></tr>
<tr class="separator:a72012bdb5d3978d9259029f2c07aa53c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ed69967b4304eeb09e2ca799c9175ea"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4ed69967b4304eeb09e2ca799c9175ea"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>sendyDot</b> (std::vector&lt; double &gt; yDot)</td></tr>
<tr class="separator:a4ed69967b4304eeb09e2ca799c9175ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad00c5ca4e12a4736f708bb74f0bcbe50"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRobotVisionInterface.html#ad00c5ca4e12a4736f708bb74f0bcbe50">getLeftImage</a> (cv::Mat *imageCV)</td></tr>
<tr class="memdesc:ad00c5ca4e12a4736f708bb74f0bcbe50"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classRobotVisionInterface.html#ad00c5ca4e12a4736f708bb74f0bcbe50" title="RobotVisionInterface::getLeftImage for now convert in 8bit grayscale image. ">RobotVisionInterface::getLeftImage</a> for now convert in 8bit grayscale image.  <a href="#ad00c5ca4e12a4736f708bb74f0bcbe50">More...</a><br /></td></tr>
<tr class="separator:ad00c5ca4e12a4736f708bb74f0bcbe50"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d2029a92d3a5eefbfdc5c50a842a760"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8d2029a92d3a5eefbfdc5c50a842a760"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>getRightImage</b> (cv::Mat *imageCV)</td></tr>
<tr class="separator:a8d2029a92d3a5eefbfdc5c50a842a760"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa3f4b423b5155010562e67b23fe0dce"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="afa3f4b423b5155010562e67b23fe0dce"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>getRangeRightImage</b> (cv::Mat *imageCV)</td></tr>
<tr class="separator:afa3f4b423b5155010562e67b23fe0dce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a33e15bf1aebbd522fdb246abad23f8bb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRobotVisionInterface.html#a33e15bf1aebbd522fdb246abad23f8bb">imageLeftCallback</a> (const sensor_msgs::ImageConstPtr &amp;msg)</td></tr>
<tr class="memdesc:a33e15bf1aebbd522fdb246abad23f8bb"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classRobotVisionInterface.html#a33e15bf1aebbd522fdb246abad23f8bb" title="RobotVisionInterface::imageLeftCallback store in member class the image arrived, process it only when...">RobotVisionInterface::imageLeftCallback</a> store in member class the image arrived, process it only when really needed (that are, functions getImageL/R)  <a href="#a33e15bf1aebbd522fdb246abad23f8bb">More...</a><br /></td></tr>
<tr class="separator:a33e15bf1aebbd522fdb246abad23f8bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad558415464a8035980293ec820d3134"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aad558415464a8035980293ec820d3134"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>imageRightCallback</b> (const sensor_msgs::ImageConstPtr &amp;msg)</td></tr>
<tr class="separator:aad558415464a8035980293ec820d3134"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22321fc6ed8a682854ae1a71048d7b3c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a22321fc6ed8a682854ae1a71048d7b3c"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>imageRangeRightCallback</b> (const sensor_msgs::ImageConstPtr &amp;msg)</td></tr>
<tr class="separator:a22321fc6ed8a682854ae1a71048d7b3c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>robotInterface: a ros node responsible of taken info from simulator and robot sensors, and of given commands back. It is the intermiate layer between robot and mission manager ("main") This "Vision" Version is specialized for a robot with no arm and horizontal cameras used to detect hole and help the insertion phase. </p>
<dl class="section note"><dt>Note</dt><dd>from ROS doc: "image_transport should always be used to publish and subscribe to images" (instead of simple ros::subscriber) </dd></dl>

<p>Definition at line <a class="el" href="robotVisionInterface_8h_source.html#l00027">27</a> of file <a class="el" href="robotVisionInterface_8h_source.html">robotVisionInterface.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="aff732683bdc113d95c46038e00d9c0f2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">RobotVisionInterface::RobotVisionInterface </td>
          <td>(</td>
          <td class="paramtype">ros::NodeHandle&#160;</td>
          <td class="paramname"><em>nh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>robotName</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>RobotVisionInterface::RobotInterfaceVision Constructor. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">argc</td><td>the standard argument of c++ main needed for ros::init </td></tr>
    <tr><td class="paramname">argv</td><td>the standard argument of c++ main needed for ros::init and for know robot names: argv[1]=robotName, argv[2] = otherRobotName </td></tr>
    <tr><td class="paramname">toolName</td><td>name of the peg in the xml file of the scene </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="robotVisionInterface_8cpp_source.html#l00011">11</a> of file <a class="el" href="robotVisionInterface_8cpp_source.html">robotVisionInterface.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="ad00c5ca4e12a4736f708bb74f0bcbe50"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int RobotVisionInterface::getLeftImage </td>
          <td>(</td>
          <td class="paramtype">cv::Mat *&#160;</td>
          <td class="paramname"><em>imageCV</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><a class="el" href="classRobotVisionInterface.html#ad00c5ca4e12a4736f708bb74f0bcbe50" title="RobotVisionInterface::getLeftImage for now convert in 8bit grayscale image. ">RobotVisionInterface::getLeftImage</a> for now convert in 8bit grayscale image. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">imageCV</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>cropped image! </dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000003">Todo:</a></b></dt><dd>return in color which can be useful for some algos </dd></dl>

<p>Definition at line <a class="el" href="robotVisionInterface_8cpp_source.html#l00115">115</a> of file <a class="el" href="robotVisionInterface_8cpp_source.html">robotVisionInterface.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a33e15bf1aebbd522fdb246abad23f8bb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RobotVisionInterface::imageLeftCallback </td>
          <td>(</td>
          <td class="paramtype">const sensor_msgs::ImageConstPtr &amp;&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><a class="el" href="classRobotVisionInterface.html#a33e15bf1aebbd522fdb246abad23f8bb" title="RobotVisionInterface::imageLeftCallback store in member class the image arrived, process it only when...">RobotVisionInterface::imageLeftCallback</a> store in member class the image arrived, process it only when really needed (that are, functions getImageL/R) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msg</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="robotVisionInterface_8cpp_source.html#l00155">155</a> of file <a class="el" href="robotVisionInterface_8cpp_source.html">robotVisionInterface.cpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/peg/src/rosInterfaces/header/<a class="el" href="robotVisionInterface_8h_source.html">robotVisionInterface.h</a></li>
<li>src/peg/src/rosInterfaces/<a class="el" href="robotVisionInterface_8cpp_source.html">robotVisionInterface.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
